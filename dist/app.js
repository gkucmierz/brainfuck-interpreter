"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();angular.module("bi",["ui.codemirror","ui.bootstrap"]).controller("mainCtrl",["$scope","$http","$timeout",function(e,t,n){e.ref={code:"",processing:!1,outputType:"string",output:{string:"",hex:""}},e.editorOptions={lineNumbers:!0,theme:"monokai",lineWrapping:!0,height:"auto"},t.get("dist/examples.json").then(function(t){e.ref.examples=t.data.map(function(e){return{name:e}})},function(e){alert("failed loading examples")}),e.load=function(){t.get("examples/"+e.ref.example.name).then(function(t){e.ref.code=t.data},function(e){alert("failed loading example")})};var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("0".repeat(t)+e.toString(16)).slice(-t)},i=function(t){e.ref.output.string=t.map(function(e){return String.fromCharCode(e)}).join(""),e.ref.output.hex=t.map(function(e){return r(e)}).join(" ")};e.run=function(){e.ref.processing=!0,i([]);var t=new Worker("dist/workers/worker.js");t.postMessage([e.ref.code,e.ref.input]);var r=[],o=void 0;!function e(){i(r),o=n(e,200)}(),t.onmessage=function(a){var s=a.data.split(","),l=_slicedToArray(s,2),u=l[0],c=l[1];"data"===u?r.push(+c):"end"===u&&(e.$apply(function(){e.ref.processing=!1,i(r)}),n.cancel(o),t.terminate())}},e.clean=function(){e.ref.input="",i([])}}]);