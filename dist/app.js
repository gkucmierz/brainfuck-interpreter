"use strict";var _slicedToArray=function(){function n(n,t){var r=[],e=!0,i=!1,u=void 0;try{for(var o,c=n[Symbol.iterator]();!(e=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);e=!0);}catch(n){i=!0,u=n}finally{try{!e&&c.return&&c.return()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();angular.module("bi",["ui.codemirror","ui.bootstrap"]).controller("mainCtrl",["$scope","$http","$timeout",function(n,t,r){n.ref={code:"",processing:!1,outputType:"string",output:{string:"",hex:""}},n.editorOptions={lineNumbers:!0,theme:"monokai",lineWrapping:!0,height:"auto"},t.get("dist/examples.json").then(function(t){n.ref.examples=t.data.map(function(n){return{name:n}})},function(n){alert("failed loading examples")}),n.load=function(){t.get("examples/"+n.ref.example.name).then(function(t){n.ref.code=t.data},function(n){alert("failed loading example")})};var e=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("0".repeat(t)+n.toString(16)).slice(-t)},i=function(t){n.ref.output.string=t.map(function(n){return String.fromCharCode(n)}).join(""),n.ref.output.hex=t.map(function(n){return e(n)}).join(" ")};n.run=function(){n.ref.processing=!0,i([]);var t=new Worker("dist/workers/worker.js");t.postMessage([n.ref.code,n.ref.input]);var e=[],u=void 0;!function n(){i(e),u=r(n,200)}(),t.onmessage=function(o){var c=o.data.split(","),f=_slicedToArray(c,2),a=f[0],p=f[1];"data"===a?e.push(+p):"end"===a&&(n.$apply(function(){n.ref.processing=!1,i(e)}),r.cancel(u),t.terminate())}},n.clean=function(){n.ref.input="",i([])}}]);